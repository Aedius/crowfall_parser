<html>
<head>
    <meta content="text/html;charset=utf-8" http-equiv="Content-Type"/>

    <!-- https://apexcharts.com/docs/update-charts-from-json-api-ajax/ -->
    <script src="https://cdn.jsdelivr.net/npm/apexcharts"></script>

    <style>
        #container .chart_float{
        float: left;
            width:16%;
        }

    </style>
</head>
<body>

<input type="number" value="30" id="time-between"> secondes between fight <br/>

<input type="file" id="file-selector">

<div id="container">
    <div class="chart_float">
        <h2>Damage emit by kind ( full file )</h2>
        <div id="global_chart_emit_by_kind"></div>
    </div>
    <div class="chart_float">
        <h2>Damage received by kind ( full file )</h2>
        <div id="global_chart_received_by_kind"></div>
    </div>
    <div class="chart_float">
        <h2>Damage emit by opponent ( full file )</h2>
        <div id="global_chart_emit_by_enemy"></div>
    </div>
    <div class="chart_float">
        <h2>Damage received by opponent ( full file )</h2>
        <div id="global_chart_received_by_enemy"></div>
    </div>

    <div class="chart_float">
        <h2>Heal emit by ally ( full file )</h2>
        <div id="global_chart_emit_by_ally"></div>
    </div>
    <div class="chart_float">
        <h2>Heal received by ally ( full file )</h2>
        <div id="global_chart_received_by_ally"></div>
    </div>

    <div>
        <h2>Fight list</h2>
        <select id="fight_list">
        </select>
    </div>

    <div class="full-time">
        <h2>Damage received</h2>
        <div id="time_damage_received"></div>
    </div>
    <div class="full-time">
        <h2>Heal received</h2>
        <div id="time_heal_received"></div>
    </div>
    <div class="full-time">
        <h2>Damage emit</h2>
        <div id="time_damage_emit"></div>
    </div>
    <div class="full-time">
        <h2>Heal emit</h2>
        <div id="time_heal_emit"></div>
    </div>

    <div class="chart_float">
        <h2>Emit by Kind</h2>
        <div id="chart_emit_by_kind"></div>
    </div>
    <div class="chart_float">
        <h2>Received by Kind</h2>
        <div id="chart_received_by_kind"></div>
    </div>
    <div class="chart_float">
        <h2>Emit by Opponent</h2>
        <div id="chart_emit_by_enemy"></div>
    </div>
    <div class="chart_float">
        <h2>Received by Opponent</h2>
        <div id="chart_received_by_enemy"></div>
    </div>

    <div class="chart_float">
        <h2>Heal emit by ally</h2>
        <div id="chart_emit_by_ally"></div>
    </div>
    <div class="chart_float">
        <h2>Heal received by ally</h2>
        <div id="chart_received_by_ally"></div>
    </div>
</div>

<script src="loader.js"></script>
<script type="module">
    // https://rustwasm.github.io/wasm-bindgen/examples/without-a-bundler.html
    import init, { parse } from './pkg/crowfall_parser.js';
    async function run() {
        await init();
        window.parse = parse;
    }
    run();
</script>

</body>

